#!/bin/bash

## coding analysis
function lines_coded {
    perl -ne'print unless /^\s*$/ || /^\s*(?:#|\/\*|\*)/' $* | wl
}
function lines_commented {
    perl -ne'print if /^\s*(?:#|\/\*|\*)/' $* | wl
}

## get all SVN commits after a certain date by a certain user
## e.g. $ svn_date_user 2013-01-31 jmcguire
svn_date_user () {
    svn log -v -r{$1}:HEAD | sed -n "/$2/,/-----\$/ p"
}

## get breakpoints from a CSS file
## e.g. $ get_css_breakpoints time.css
get_css_breakpoints () {
    grep ^@media $1 \
    | perl -pe's/\@media screen and \(([^)]+)\) {/$1/' \
    | perl -pe's/^\@media(?: (?:only )?screen and )?//;
               s/,\s*/\n/g;
               s/only screen and//g;
               s/^\s+//mg;
               s/ {\s*$/\n/mg;' \
    | sort -u
}

